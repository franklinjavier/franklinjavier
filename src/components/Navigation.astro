---
import ThemeToggle from './ThemeToggle.astro'
import LanguageToggle from './LanguageToggle.astro'
import { useTranslations, getLangFromUrl } from '../i18n/utils'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const homeUrl = lang === 'en' ? '/' : '/pt-br/'
const aboutUrl = lang === 'en' ? '/#about' : '/pt-br/#about'
const postsUrl = lang === 'en' ? '/#posts' : '/pt-br/#posts'
---

<nav
  class="sticky top-0 left-0 right-0 bg-white/80 dark:bg-black/80 backdrop-blur z-50 border-b border-gray-100 dark:border-gray-800"
>
  <div class="max-w-7xl mx-auto px-8 py-3">
    <div class="flex justify-between items-center text-sm">
      <a
        href={homeUrl}
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition"
        >{t('nav.home')}</a
      >
      <a
        href={aboutUrl}
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition"
        >{t('nav.about')}</a
      >
      <a
        href="mailto:franklinjalves@gmail.com"
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition"
        >{t('nav.contact')}</a
      >
      <a
        href={postsUrl}
        class="text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition"
        >{t('nav.blog')}</a
      >
      <div class="flex items-center gap-2">
        <LanguageToggle />
        <ThemeToggle />
      </div>
    </div>
  </div>
</nav>
